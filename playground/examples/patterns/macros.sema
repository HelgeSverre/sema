;; Define a simple macro
(defmacro unless (condition . body)
  `(if (not ,condition) (begin ,@body)))

(unless (= 1 2)
  (println "Math still works!"))

;; A "when-let" macro
(defmacro when-let (binding . body)
  `(let ((,(car binding) ,(cadr binding)))
     (when ,(car binding) ,@body)))

(when-let (x (get {:name "Sema"} :name))
  (println "Found:" x))

;; Pipeline with let
(let ((data [3 1 4 1 5 9 2 6]))
  (filter (fn (x) (> x 4))
    (map (fn (x) (* x x))
      (sort data <))))
